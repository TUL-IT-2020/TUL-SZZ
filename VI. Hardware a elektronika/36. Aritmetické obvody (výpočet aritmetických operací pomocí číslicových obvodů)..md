Obvody, zpracovÃ¡vajÃ­cÃ­ aritmetickÃ© operace mezi vstupnÃ­mi daty mohou bÃ½t jak sekvenÄnÃ­ tak i pouze kombinaÄnÃ­. V tÃ©to kapitole uvedeme obvody a postupy vyuÅ¾Ã­vanÃ© pro realizaci operace sÄÃ­tÃ¡nÃ­, odÄÃ­tÃ¡nÃ­, nÃ¡sobenÃ­ a dÄ›lenÃ­.
PÅ™edpoklÃ¡dÃ¡me, Å¾e vstupnÃ­ a vÃ½stupnÃ­ data jsou vyjÃ¡dÅ™ena v binÃ¡rnÃ­ soustavÄ› buÄ s pevnou, nebo pohyblivou Å™Ã¡dovou ÄÃ¡rkou.

V pevnÃ© Å™Ã¡dovÃ© ÄÃ¡rce bude ÄÃ­slo A rovno souÄtu souÄinÅ¯: $ğ´=ğ‘_ğ‘›2^ğ‘›+ğ‘_02^0+ğ‘_{âˆ’1}2^{âˆ’1}+â‹¯+ğ‘_{âˆ’ğ‘š}2^{âˆ’ğ‘š}$
kde $a_i$ je binÃ¡rnÃ­ ÄÃ­slice nabÃ½vajÃ­cÃ­ dvou hodnot: 0 a 1. ÄŒÃ­slo bude vyjÃ¡dÅ™eno pomocÃ­ pÅ™Ã­sluÅ¡nÃ©ho poÄtu binÃ¡rnÃ­ch ÄÃ­slic $a_n â€¦ a_0, a_{-1} â€¦ a_{-m}$. Mezi Å™Ã¡dem â€0â€œ a â€-1â€œ pÃ­Å¡eme â€desetinnouâ€œ ÄÃ¡rku. ZÃ¡pornÃ¡ ÄÃ­sla zobrazujeme pomocÃ­ nÄ›kterÃ©ho z tÄ›chto kÃ³dÅ¯: pÅ™Ã­mÃ½ kÃ³d, kÃ³d s posunutou nulou, kÃ³d jednotkovÃ©ho doplÅˆku a kÃ³d dvojkovÃ©ho doplÅˆku.

Pro zobrazenÃ­ reÃ¡lnÃ½ch nebo pÅ™Ã­liÅ¡ velkÃ½ch celÃ½ch ÄÃ­sel je vÃ½hodnÃ© pouÅ¾Ã­t pohyblivou Å™Ã¡dovou ÄÃ¡rku. Potom ÄÃ­slo A bude ve tvaru $A = M.2^E$, kde M je mantisa a E exponent

## SÄÃ­taÄky #sÄÃ­taÄky
### SÄÃ­taÄky pro nezÃ¡pornÃ¡ ÄÃ­sla
U sÄÃ­taÄek nezÃ¡pornÃ½ch ÄÃ­sel rozliÅ¡ujeme pÅ™enos do Å™Ã¡du i, kterÃ½ budeme oznaÄovat $p_i$ pÅ™enos z Å™Ã¡du i, $q_i$ pÅ™enos z poslednÃ­ho Å™Ã¡du $q*$(pÅ™enos anglicky nazÃ½vÃ¡me carry). K pÅ™eplnÄ›nÃ­ sÄÃ­taÄky dojde tehdy, kdyÅ¾ $q* =1$. PÅ™enos $q*$ nazÃ½vÃ¡me pÅ™eplnÄ›nÃ­m (overflow). PÅ™Ã­padnÃ© pÅ™eplnÄ›nÃ­ je tÅ™eba pÅ™i sÄÃ­tÃ¡nÃ­ monitorovat a jeho vÃ½skyt oÅ¡etÅ™it jako chybovÃ½ vÃ½sledek.

![[ÃšplnÃ¡ jednobitovÃ¡ sÄÃ­taÄka.png]] 
>ÃšplnÃ¡ jednobitovÃ¡ sÄÃ­taÄka

ZÃ¡kladnÃ­m blokem sÄÃ­taÄky je ÃºplnÃ¡ jednobitovÃ¡ sÄÃ­taÄka Obr. 60. ÃšplnÃ¡ jednobitovÃ¡
sÄÃ­taÄka se sklÃ¡dÃ¡ ze dvou polosÄÃ­taÄek a obvodu logickÃ©ho souÄtu. PolosÄÃ­taÄka vytvÃ¡Å™Ã­ na vÃ½stupu
s XOR ze vstupnÃ­ch bitÅ¯. VÃ½stup q polosÄÃ­taÄky odpovÃ­dÃ¡ logickÃ©mu souÄinu vstupnÃ­ch promÄ›nnÃ½ch
polosÄÃ­taÄky. PropojenÃ­m polosÄÃ­taÄek podle Obr. 60 zÃ­skÃ¡me na vÃ½stupu s souÄet mod 2 vstupnÃ­ch
promÄ›nnÃ½ch, na vÃ½stupu q zÃ­skÃ¡me logickou hodnotu odpovÃ­dajÃ­cÃ­ vÃ½razu q = ab + ap + bp.
PorovnÃ¡me-li vÃ½stupnÃ­ hodnoty ÃºplnÃ© jednobitovÃ© sÄÃ­taÄky s hodnotami, kterÃ© odpovÃ­dajÃ­
hodnotÃ¡m souÄtu a pÅ™enosu do vyÅ¡Å¡Ã­ho Å™Ã¡du v jednom Å™Ã¡du pÅ™i sÄÃ­tÃ¡nÃ­ binÃ¡rnÃ­ch ÄÃ­sel, vidÃ­me, Å¾e
kaskÃ¡dnÃ­ spojenÃ­ ÃºplnÃ½ch jednobitovÃ½ch sÄÃ­taÄek bude realizovat operaci sÄÃ­tÃ¡nÃ­ binÃ¡rnÃ­ch ÄÃ­sel

![[ParalelnÃ­ sÄÃ­taÄka se sÃ©riovÃ½m pÅ™enosem.png]]
>ParalelnÃ­ sÄÃ­taÄka se sÃ©riovÃ½m pÅ™enosem

> [!NOTE] BinÃ¡rnÃ­ sÄÃ­tÃ¡nÃ­
> **SeÄtÄ›te ÄÃ­sla $11_{10}$ a $6_{10}$.**
> ---
> $0 1011_2$ | $11_{10}$
> $0 0110_2$ | $6_{10}$
> ---
> $10001_2$ | $17_{10}$

VÃ­cebitovÃ© paralelnÃ­ sÄÃ­taÄky vytvÃ¡Å™ejÃ­ vzhledem ke zÅ™etÄ›zenÃ­ jednobitovÃ½ch sÄÃ­taÄek znaÄnÃ© zpoÅ¾dÄ›nÃ­ vÃ½stupu oproti nÄ›kterÃ½m vstupnÃ­m promÄ›nnÃ½m. Je pÅ™i tom otÃ¡zkou, jak minimalizovat zpoÅ¾dÄ›nÃ­ sÄÃ­taÄky, popÅ™Ã­padÄ› jak pÅ™izpÅ¯sobit sÄÃ­taÄku taktu hodinovÃ½ch pulsÅ¯, kterÃ© synchronizujÃ­ pÅ™Ã­padnÃ© vstupnÃ­ a vÃ½stupnÃ­ registry. MaximÃ¡lnÃ­ redukce nejdelÅ¡Ã­ho zpoÅ¾dÄ›nÃ­ sÄÃ­taÄky je dosaÅ¾ena u sÄÃ­taÄky s predikcÃ­ pÅ™enosu. Tato sÄÃ­taÄka je vybavena rozsÃ¡hlÃ½m obvodem, kterÃ½ samostatnÄ› paralelnÃ­m zpÅ¯sobem vypoÄÃ­tÃ¡vÃ¡ pÅ™enosy mezi jednotlivÃ½mi Å™Ã¡dy sÄÃ­taÄky a tÃ­m dochÃ¡zÃ­ ke zkrÃ¡cenÃ­ nejdelÅ¡Ã­ho zpoÅ¾dÄ›nÃ­ v obvodu. Podrobnosti jsou sloÅ¾itÃ©.

![[SÃ©riovÃ¡ sÄÃ­taÄka.png]]
>SÃ©riovÃ¡ sÄÃ­taÄka

HardwarovÄ› nejjednoduÅ¡Å¡Ã­ sÄÃ­taÄkou je sÄÃ­taÄka sÃ©riovÃ¡. JejÃ­ vÃ½hodou kromÄ› jednoduchÃ©ho zapojenÃ­ je malÃ© zpoÅ¾dÄ›nÃ­ v kombinaÄnÃ­ logice a tÃ­m i moÅ¾nost vyÅ¡Å¡Ã­ frekvence taktovÃ¡nÃ­. PrincipiÃ¡lnÃ­ schÃ©ma je uvedeno na Obr. 63. SÄÃ­taÄka vyÅ¾aduje souÄasnÃ© pÅ™ivÃ¡dÄ›nÃ­ odpovÃ­dajÃ­cÃ­ch seÄÃ­tanÃ½ch bitÅ¯ vÃ­cebitovÃ©ho ÄÃ­sla od nejniÅ¾Å¡Ã­ho Å™Ã¡du po nejvyÅ¡Å¡Ã­, pÅ™iÄemÅ¾ v klopnÃ©m obvodÄ› D se
vÅ¾dy uloÅ¾Ã­ vÃ½stupnÃ­ pÅ™enos, kterÃ½ je pouÅ¾it jako vstupnÃ­ pÅ™enos pro nÃ¡sledujÃ­cÃ­ zpracovÃ¡vanÃ½ Å™Ã¡d
sÄÃ­tÃ¡nÃ­. VÃ½hybka ve zpÄ›tnÃ© vazbÄ› sÄÃ­taÄky pÅ™epÃ­nÃ¡ mezi vnÄ›jÅ¡Ã­m vstupnÃ­m pÅ™enosem, kterÃ½ se mÅ¯Å¾e
uplatnit u nejniÅ¾Å¡Ã­ho Å™Ã¡du sÄÃ­tÃ¡nÃ­ a pÅ™enosy uchovÃ¡vanÃ½mi v klopnÃ©m obvodÄ›. Vzhledem k tomu, Å¾e sÄÃ­tÃ¡nÃ­ dvou m-bitovÃ½ch ÄÃ­sel trvÃ¡ u sÃ©riovÃ© sÄÃ­taÄky m hodinovÃ½ch taktÅ¯, je moÅ¾nÃ© zvolit jako kompromisnÃ­ Å™eÅ¡enÃ­ sÃ©rio-paralelnÃ­ sÄÃ­taÄku

![[SÃ©rioparalelnÃ­ sÄÃ­taÄka.png]]
>SÃ©rioparalelnÃ­ sÄÃ­taÄka

## OdeÄÃ­tÃ¡nÃ­ #odeÄÃ­tÃ¡nÃ­
Pro odeÄÃ­tÃ¡nÃ­ s vÃ½hodou vyuÅ¾ijeme sÄÃ­taÄku popsanou v pÅ™edchozÃ­m odstavci doplnÄ›nou o pÅ™Ã­padnÃ© obvody vytvÃ¡Å™ejÃ­cÃ­ jednotkovÃ½ nebo dvojkovÃ½ doplnÄ›k z menÅ¡itele.

JednotkovÃ½ doplnÄ›k kladnÃ©ho ÄÃ­sla je ÄÃ­slo samo, ze zÃ¡pornÃ©ho ÄÃ­sla zÃ­skÃ¡me doplnÄ›k tÃ­m, Å¾e invertujeme vÅ¡echny bity absolutnÃ­ hodnoty ÄÃ­sla. OdeÄtenÃ­ provedeme jako souÄet jednotkovÃ½ch doplÅˆkÅ¯ kladnÃ©ho a zÃ¡pornÃ©ho ÄÃ­sla a pÅ™iÄtenÃ­m vÃ½stupnÃ­ho pÅ™enosu do nejniÅ¾Å¡Ã­ho Å™Ã¡du (kruhovÃ½ pÅ™enos). VÃ½sledek odeÄÃ­tÃ¡nÃ­ bude v kÃ³du jednotkovÃ©ho doplÅˆku.

> [!NOTE] OdeÄÃ­tÃ¡nÃ­ s jednotkovÃ½m doplÅˆkem
> **S pomocÃ­ jednotkovÃ©ho doplÅˆku odeÄtÄ›te ÄÃ­slo $6_{10}$ od ÄÃ­sla $11_{10}$**
> ---
> $0 1011_2$ | $11_{10}$
> $1 1010_2$ | $-6_{10}$
> ---
> $1+00101_2$ | $5_{10}$

NevÃ½hodou vyuÅ¾itÃ­ jednotkovÃ©ho doplÅˆku je dvojÃ­ obraz nuly. ZÃ­skÃ¡me kladnou a zÃ¡pornou
representaci nuly, z nichÅ¾ jedna nemÃ¡ vyuÅ¾itÃ­.

PÅ™i pouÅ¾itÃ­ dvojkovÃ©ho doplÅˆku zmÄ›nÃ­me u menÅ¡itele nuly na jedniÄky (a naopak) a
pÅ™iÄteme jedniÄku, vÃ½stupnÃ­ pÅ™enos se nevyuÅ¾ije. PÅ™edpoklÃ¡dejme, Å¾e od ÄÃ­sla A odeÄÃ­tÃ¡me ÄÃ­slo B.

![[OdeÄÃ­taÄka.png]] 
>OdeÄÃ­taÄka

OdeÄÃ­tÃ¡nÃ­ provedeme ve sÄÃ­taÄce, kterou doplnÃ­me invertory na vstupech bitÅ¯ operandu B a vstupnÃ­m pÅ™enosem do sÄÃ­taÄky, kterÃ½ zajistÃ­ pÅ™iÄtenÃ­ jedniÄky do nejniÅ¾Å¡Ã­ho Å™Ã¡du  VÃ½sledek odeÄÃ­tÃ¡nÃ­ bude opÄ›t v kÃ³du dvojkovÃ©ho doplÅˆku.

> [!NOTE] OdeÄÃ­tÃ¡nÃ­ s dvojkovÃ½m doplÅˆkem
> **S pomocÃ­ dvojkovÃ©ho doplÅˆku odeÄtÄ›te ÄÃ­slo $6_{10}$ od ÄÃ­sla $11_{10}$**
> ---
> $0 1011_2$ | $11_{10}$
> $1 1010_2$ | $-6_{10}$
> ---
> $1|00101_2$ | $5_{10}$
> 
>PÅ™i odeÄÃ­tÃ¡nÃ­ se mÃ­sto pojmu vÃ½stupnÃ­ pÅ™enos $q*$ pouÅ¾Ã­vÃ¡ pojem vÃ½pÅ¯jÄka $v*$ (borrow).
>PlatÃ­  ğ‘Ì…Ì…âˆ—Ì… =$ğ‘£*$
>$q*$=1â†” $ğ‘£*$=0 â†”A-Bâ‰¥0
>$q*$=0â†” $ğ‘£*$=1 â†”A-B<0
>
>Je-li vÃ½sledek zÃ¡pornÃ½, jeho absolutnÃ­ hodnotu je moÅ¾nÃ© zÃ­skat opÄ›t dvojkovÃ½m doplÅˆkem.

PorovnÃ¡me-li schÃ©ma paralelnÃ­ sÄÃ­taÄky s odeÄÃ­taÄkou vidÃ­me, Å¾e oba obvody mÅ¯Å¾eme slouÄit do univerzÃ¡lnÃ­ho schÃ©matu sÄÃ­taÄky-odeÄÃ­taÄky (Obr. 66). Ze schÃ©matu je vidÄ›t, Å¾e sÄÃ­taÄka-odeÄÃ­taÄka
vytvÃ¡Å™Ã­ dvojkovÃ½ doplnÄ›k operandu B a standardnÄ› sÄÃ­tÃ¡ dva operandy, kterÃ© v pÅ™Ã­padÄ›, Å¾e jsou v kÃ³du dvojkovÃ©ho doplÅˆku, mohou bÃ½t kladnÃ© i zÃ¡pornÃ©, vÃ½sledek bude vÅ¾dy sprÃ¡vnÃ½, jestliÅ¾e nedojde k jejÃ­mu pÅ™eplnÄ›nÃ­. Z tohoto dÅ¯vodu je moÅ¾nÃ© uvaÅ¾ovat o sÄÃ­taÄce jako o sÄÃ­taÄce-odeÄÃ­taÄce pracujÃ­cÃ­ s operandy v kÃ³du dvojkovÃ©ho doplÅˆku.

![[SÄÃ­taÄka-odeÄÃ­taÄka v dvojkovÃ© doplÅˆku.png]]
>SÄÃ­taÄka-odeÄÃ­taÄka v dvojkovÃ© doplÅˆku

# NÃ¡sobiÄka #NÃ¡sobiÄka
NÃ¡sobiÄky jsou Äasto uÅ¾Ã­vanÃ½mi obvody, jelikoÅ¾ pomocÃ­ nich je moÅ¾nÃ© realizovat filtry signÃ¡lÅ¯ pÅ™i jejich zpracovÃ¡nÃ­. RozdÄ›lujeme je na sÃ©riovÃ© a paralelnÃ­.

### SÃ©riovÃ¡ nÃ¡sobiÄka
PÅ™i sÃ©riovÃ©m nÃ¡sobenÃ­ vyuÅ¾Ã­vÃ¡me faktu, Å¾e v binÃ¡rnÃ­ soustavÄ› je aritmetickÃ© nÃ¡sobenÃ­ dvou bitÅ¯ rovno jejich logickÃ©mu souÄinu. Operandy A a B a vÃ½sledek nÃ¡sobenÃ­ C vyjÃ¡dÅ™Ã­me pomocÃ­ nÃ¡sledujÃ­cÃ­ch vÃ½razÅ¯: 
$$
A= \sum_{i=0}^{m}a_iz^i
$$
$$B=\sum_{j=0}^{m}b_jz^j$$
$$C=A*B=\sum_{j=0}^{m+n+1}c_jz^j$$
$$C=\sum_{j=0}^{n}Ab_jz^j$$
PoslednÃ­ z uvedenÃ½ch vÃ½razÅ¯ je vyuÅ¾itelnÃ½ pro sÃ©riovÃ© nÃ¡sobenÃ­ ÄÃ­sla A koeficienty z ÄÃ­sla B a postupnÃ©mu pÅ™iÄÃ­tÃ¡nÃ­ vÃ½sledkÅ¯ k odpovÃ­dajÃ­cÃ­m Å™Ã¡dÅ¯m vÃ½sledku.


> [!NOTE] RuÄnÃ­ nÃ¡sobenÃ­ v binÃ¡rnÃ­ soustavÄ›
> **ZnÃ¡sobte ÄÃ­sla $7_{10}$ a $5_{10}$**
> $111_2$
> $101_2$
> ---
> xx  111
> x 000
>111
>---
>$100011_2$

NÃ¡sobenÃ­ provÃ¡dÃ­me pomocÃ­ operacÃ­ logickÃ©ho souÄinu pÅ™iÄÃ­tÃ¡nÃ­ a posunÅ¯ v registrech C0 a C1. PoÄÃ¡teÄnÃ­ hodnota registrÅ¯ C0 a C1 je nulovÃ¡. V prvnÃ­m kroku k registru C0 pÅ™iÄteme vÃ½sledek logickÃ©ho souÄinu LSB ÄÃ­sla B a vÅ¡ech bitÅ¯ ÄÃ­sla A. VÃ½sledek posuneme o jednu pozici doprava ve spojenÃ©m posuvnÃ©m registru C0C1. Proces opakujeme pro dalÅ¡Ã­ bity ÄÃ­sla B. Po tÅ™ech cyklech se vytvoÅ™Ã­ v registrech C0C1 vÃ½sledek C.

![[SÃ©riovÃ¡ nÃ¡sobiÄka.png]]
>SÃ©riovÃ¡ nÃ¡sobiÄka

| Operace | C1 | C0 |
| ---- | ---- | ---- |
| PÅ™iÄtenÃ­ 111 | 0111 | 000 |
| Posuv | 0011 | 1000 |
| PÅ™iÄtenÃ­ 000 | 0011 | 100 |
| Posuv | 0001 | 110 |
| PÅ™iÄtenÃ­ 111 | 1000 | 110 |
| Posuv | 0010 | 011 |
## ParalelnÃ­ nÃ¡sobiÄka  #ParalelnÃ­_nÃ¡sobiÄka 
NÃ¡sobenÃ­ se provÃ¡dÃ­ bÄ›hem jedinÃ©ho taktu hodin. VyuÅ¾Ã­vÃ¡ se pÅ™i tom  nÃ¡sledujÃ­cÃ­ho rozkladu vÃ½sledku C:
$$
C = \sum_{i=0}^{m}\sum_{j=0}^{n}a_j b_j2^{i+j}
$$
VÃ½raz ai.bj ve dvojkovÃ© soustavÄ› realizujeme jako log. souÄin, $2^{i+j}$ representuje posuv o $i+j$ mÃ­st doleva. PÅ™Ã­klad realizace 4bitovÃ© paralelnÃ­ nÃ¡sobiÄky je uveden v Obr. 71. PÅ™i realizaci nÃ¡sobiÄky pomocÃ­ logickÃ½ch obvodÅ¯ vznikÃ¡ pravidelnÃ¡ struktura se souÄinovÃ½mi hradly (v Obr. 71 oznaÄeno &) a ÃºplnÃ½mi jednobitovÃ½mi sÄÃ­taÄkami (na Obr. 70 oznaÄeny jako FA) a polo-sÄÃ­taÄkami (HA tamtÃ©Å¾).
>![[ParalelnÃ­ nÃ¡sobiÄka.png]]
>ParalelnÃ­ nÃ¡sobiÄka